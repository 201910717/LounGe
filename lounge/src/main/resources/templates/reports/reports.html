<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>고장 신고</title>
	<link rel="stylesheet" href="/css/reports.css">
	<link rel="stylesheet" th:href="@{/css/style.css}">

	<script>
		// URL에서 파라미터 값을 가져오는 함수
		function getParameterByName(name) {
			const url = window.location.href;
			name = name.replace(/[\[\]]/g, '\\$&');
			const regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)');
			const results = regex.exec(url);
			if (!results) return null;
			if (!results[2]) return '';
			return decodeURIComponent(results[2].replace(/\+/g, ' '));
		}

		// 페이지 로드 시 기기에 맞는 이미지와 텍스트 표시
		window.onload = function() {
			const deviceId = getParameterByName('device');
			const deviceImage = document.getElementById('deviceImage');
			const deviceText = document.getElementById('deviceText');

			switch (deviceId) {
				case '1':
					deviceImage.src = "/images/product/styler_modal_image.png";
					deviceText.innerText = "Styler 고장 신고";
					break;
				case '2':
					deviceImage.src = "/images/product/shoedresser_modal_image.png";
					deviceText.innerText = "Shoe Dresser 고장 신고";
					break;
				case '3':
					deviceImage.src = "/images/product/bedroom_modal_image.png";
					deviceText.innerText = "수면 케어룸 고장 신고";
					break;
				case '4':
					deviceImage.src = "/images/product/healingme_modal_image.png";
					deviceText.innerText = "Healing Me 고장 신고";
					break;
				default:
					deviceImage.src = "/images/default_image.png";  // 기본 이미지
					deviceText.innerText = "기기 고장 신고";
					break;
			}
		};
	</script>
</head>


<body>
<th:block th:replace="layout/fragments/header :: headerLayout"></th:block>
<h1 id="deviceText">기기 고장 신고</h1>
<img id="deviceImage" class="device-image" src="" alt="기기 이미지">
<p>기기나 시설의 고장이나 문제를 신고해 주세요.</p>
<textarea placeholder="문제가 발생한 내용을 입력해 주세요" rows="10" cols="50"></textarea>
<br><br>
<button>신고 접수</button>
</body>

</html>